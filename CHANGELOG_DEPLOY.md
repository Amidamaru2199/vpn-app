# üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## ‚ú® –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ (–æ—Ç eca1ca3)

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ **Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —Å–∏—Å—Ç–µ–º–∞ –∫—Ä–∞—Å–∏–≤—ã—Ö –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (`src/api/index.js`) - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±—ç–∫–µ–Ω–¥—É
- ‚úÖ **Pinia Store** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- ‚úÖ **–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Settings** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **Composables**:
  - `useTelegram` - —Ä–∞–±–æ—Ç–∞ —Å Telegram Web App API
  - `useToast` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
  - `useClipboard` - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
  - `useDate` - —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
  - `usePlatform` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `Toast.vue` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `Switch.vue` - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å
- `KeySVG.vue` - –∏–∫–æ–Ω–∫–∞ –∫–ª—é—á–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–æ—É—Ç–∏–Ω–≥–µ
- ‚ö†Ô∏è **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Hash History Mode**
  - –ë—ã–ª–æ: `createWebHistory()` ‚Üí URL –≤–∏–¥–∞ `/vpn-app/configurations`
  - –°—Ç–∞–ª–æ: `createWebHashHistory('/vpn-app/')` ‚Üí URL –≤–∏–¥–∞ `/vpn-app/#/configurations`
- ‚ö†Ô∏è **–ò–∑–º–µ–Ω—ë–Ω base –≤ vite.config.js**
  - –ë—ã–ª–æ: `base: '/vpn-app'`
  - –ü—Ä–∏—à–ª–æ —Å git: `base: '/vpn-app/#/'`
  - **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞:** `base: '/vpn-app/'` (–¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

### –£–¥–∞–ª–µ–Ω–æ
- ‚ùå –ú–Ω–æ–≥–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–∑ `public/img/`:
  - background.png, background-gr.png
  - –§–ª–∞–≥–∏ —Å—Ç—Ä–∞–Ω (canada, germany, iceland –∏ —Ç.–¥.)
  - Frame 7.png, big-button.png
  - ‚ö†Ô∏è **–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å –∏–∑-–∑–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫**

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞: `pinia@^3.0.3` (store management)

## üîß –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –¥–µ–ø–ª–æ–µ

### –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç–æ–≤: ‚úÖ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è –æ—Å—Ç–∞—é—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏:
- ‚úÖ `./update-and-deploy.sh` - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `./deploy.sh` - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `npm run build` - —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

1. **vite.config.js** - —É–±—Ä–∞–ª `#/` –∏–∑ base:
   ```javascript
   // –ë—ã–ª–æ –≤ git: base: '/vpn-app/#/',
   // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: base: '/vpn-app/',
   ```

2. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å Vite** - –æ—Ç–∫–∞—á–µ–Ω –Ω–∞ v4.5.3 (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å Node 16):
   ```bash
   npm install vite@4.5.3 @vitejs/plugin-vue@4.6.2 --save-dev
   ```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–±–æ—Ä–∫–∏

**–†–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–ª—Å—è:**
- JS: 138.23 KB (–±—ã–ª–æ ~115 KB) ‚Üí **+20% –∏–∑-–∑–∞ Pinia –∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**
- CSS: 15.98 KB (–±—ã–ª–æ ~12 KB)
- –ü—Ä–µ–∫–µ—à: 16 —Ñ–∞–π–ª–æ–≤ (–±—ã–ª–æ 27) ‚Üí **–º–µ–Ω—å—à–µ –∏–∑-–∑–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫**

## ‚ö†Ô∏è –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. **URL —Å —Ö—ç—à–µ–º:**
   - –û—Å–Ω–æ–≤–Ω–∞—è: `https://app.adron-soft.ru/vpn-app/`
   - –†–æ—É—Ç—ã: `https://app.adron-soft.ru/vpn-app/#/configurations`
   - Hash mode —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ —Å nginx (–Ω–µ –Ω—É–∂–µ–Ω —Å–ª–æ–∂–Ω—ã–π try_files)

2. **Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
   - –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –æ–Ω–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∏ –∏—Å—á–µ–∑–∞—é—Ç
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≤ Telegram Web App

3. **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
   - –£–±–µ–¥–∏—Å—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±—ç–∫–µ–Ω–¥—É –Ω–∞ `localhost:1025`
   - –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

4. **Store (Pinia):**
   - –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
   - –¢–µ—Å—Ç–∏—Ä—É–π –≤ Telegram Web App

5. **–ö–∞—Ä—Ç–∏–Ω–∫–∏:**
   - **–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å** –∏–∑-–∑–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫
   - –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è - –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Ñ–∞–π–ª—ã –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥

## üöÄ –î–µ–ø–ª–æ–π –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

```bash
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±
./update-and-deploy.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
npm run build
./deploy.sh
```

## üîô –û—Ç–∫–∞—Ç –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

```bash
ssh root@178.130.63.247
sudo rm -rf /var/www/vpn-app/dist
sudo mv /var/www/vpn-app/dist.backup /var/www/vpn-app/dist
sudo systemctl reload nginx
```

## ‚úÖ –ò—Ç–æ–≥

**–°–∫—Ä–∏–ø—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Ç—É–∞–ª—å–Ω—ã!** –ú–æ–∂–Ω–æ —Å–º–µ–ª–æ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é:

```bash
./update-and-deploy.sh
```

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram –±–æ—Ç–µ - —Ç–∞–º –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏! üéâ
